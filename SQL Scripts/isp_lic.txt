SELECT WP.FORM_NAME "WORK PLACE",
COUNT(WP.FORM_NAME) "USE LIC",
D.NUM "CURRENT LIC"
FROM afon.WORK_PLACE WP, afon.DISPATCH D
WHERE WP.FORM_NAME LIKE 'ISP%COMP%'
AND SYSDATE BETWEEN wp.fd AND wp.td
AND SYSDATE BETWEEN D.FD AND D.TD
AND D.TERM = WP.FORM_NAME
AND D.TYP = 5
GROUP BY WP.FORM_NAME, D.NUM

количества лицензий 200



/* Formatted on 6/17/2011 11:34:04 (QP5 v5.149.1003.31008) */
  SELECT                                       /*+use index (work_place$all)*/
        TRUNC (fd, 'hh24'), FORM_NAME, COUNT (FORM_NAME)
    FROM WORK_PLACE
   WHERE FORM_NAME = 'ISP$COMP$OFFICE' AND fd BETWEEN SYSDATE - 7 AND SYSDATE
GROUP BY FORM_NAME, TRUNC (fd, 'hh24')
ORDER BY TRUNC (fd, 'hh24')


[10:55:30] *** Marina.Sokolova добавил Air к этому чату ***
[10:56:00 | Изменены 10:58:43] Marina.Sokolova: Фарман, Ирина - наш специалист по web-продуктам

[10:55] Ирина: 

<<< как только открывается новая страничка броузера и оператор логиниться - мы считаем, что используется 1 раб. место
[10:56:18] Ирина: т.е. если один оператор одновременно откроет три окна броузера и залогиниться в них, то один оператор будет использовать 3 раб. места одновременно
[10:57:03] Ирина: есть константа, которая позволяет одному оператору использовать только одно раб.место
[10:58:10] Air: Мы знакому)
[10:58:57] Air: Ирина, один браузер - одна лицензия?
[11:00:38] Ирина: DealerRM.CountSession = <кол-во польз.>,<кол-во сессий>-ДД.ММ.ГГГГ
[11:00:50] Ирина: Например, 10,2-15.10.2011" означает, что:
– одновременно могут работать не более 10-и пользователей; 
– каждый пользователь может использовать не более двух рабочих мест;
– система остановится 15 октября 2011 года.
[11:01:26] Ирина: это доп. ограничение на лицензии из dispatch
[11:02:29] Ирина: по хорошему нужно пояснить операторам, что они могут работать в одном окне броезура и выходить из программы нужно не схлопывая броузер, а используя кнопку Выход (чтобы закрыть за собой раб. место)
[11:02:44] Ирина: в таком случае 1 пользователь = 1 раб. место
[11:04:25] Air: [11:02] Ирина: 

<<< 1 раб. местоодно окно браузера? или одна сессия
[11:04:33] Ирина: текущее значение открытых раб. мест ISP -> РМ CBOSS/Администрирование/Контроль рабочих мест/Контроль рабочих мест/Закладка дополнительная
Маска для поиска сессий СBOSSisp - $ISP$ 
Результатом поиска является список всех активных и закрытых сессий CBOSSisp. 
Столбец "s|n" в РМ "Контроль рабочих мест" совпадает с столбцом "N" в таблице work_place -> 
select form_name,count(1) 
from work_place 
where form_name like 'ISP$%' and sysdate between fd and td
group by form_name;
[11:05:05] Ирина: еще можно огранчить оператора доступом DEALER_RM.MAXSESSION
[11:06:53] Ирина: DEALER_RM.MAXSESSIONS — содержит количество разрешенных одновременных сессий с системой.
[11:08:05] Ирина: если доступ не задан, то значение по умолчанию -100, т.е. один оператор может использовать до 100 раб.мест, если будет открывать броузер, логиниться (создавать сессию) и, не выходя из программы корректно, захлопывать броузер
[11:09:37] Ирина: по каждому факта логина оператора в систему открывается очередное раб. место
[11:10:26] Air: значит каждый логин использует одну лицензию
[11:11:00] Ирина: НО когда оператор выходит из системы по кнопке Выход, то раб. место закрывается
[11:11:33] Ирина: в dispatch прописано ограничение на кол-во одновременно открытых раб. мест